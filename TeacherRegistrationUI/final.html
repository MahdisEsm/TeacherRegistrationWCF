<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <link href="Content/bootstrap-rtl.css" rel="stylesheet" />
    <script src="Scripts/jquery-3.0.0.min.js"></script>
    <script src="Scripts/bootstrap.bundle.js"></script>
    <link href="Content/font-awesome.css" rel="stylesheet" />
    <link href="Content/Css/SiteCss.css" rel="stylesheet" />
    <script src="Scripts/Site.js"></script>
    <title>Finalize Registration</title>

</head>
<body>
    <header class="d-felx justify-content-center">
        <nav class="navbar Sitenav w-75 mx-auto radius1rem shadow">
            <a class="navbar-brand font-weight-bold" href="#">
                <img src="Content/Image/logoYellow.png" width="70" height="70" class="d-inline-block align-center" alt="" loading="lazy">
                جذب مدرس دوره های تخصصی IT
            </a>
        </nav>
        <div class="w-75 mx-auto mt-3 text-center">
            <img src="Content/Image/FigmaProjectIcons/Person-blue.png" />
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <i class="fa fa-circle" style="font-size: 6px; color: #133889;"></i>
            <img src="Content/Image/FigmaProjectIcons/Education-Blue.png" />
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889;"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <img src="Content/Image/FigmaProjectIcons/Job-Blue.png" />
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889;"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <img src="Content/Image/FigmaProjectIcons/Teacher-Blue.png" />
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889;"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <img src="Content/Image/FigmaProjectIcons/Document-Blue.png" />
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889;"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <i class="fa fa-circle" style="color: #133889; font-size: 6px"></i>
            <img src="Content/Image/FigmaProjectIcons/LikeToTeach-Blue.png" />
        </div>
    </header>

    <section class="radius1rem shadow d-felx justify-content-center w-50 mx-auto m-4 p-3">
        <div>
            <h5 class="text-secondary">نتیجه ثبت نام</h5>
            <hr class="hr-leftFade" />
        </div>

        <article class="justify-content-center">
            <div class="row">
                <div class="col-md-6">
                    <span id="waitIcon" style="font-size: 30px;">
                        <i class="fa fa-spin fa-spinner fa-check"></i>
                    </span>
                    <p id="result">
                        لطفا تا اعلام نتیجه ی ثبت نام منتظر بمانید. 
                    </p>
                </div>
            </div>
        </article>
    </section>



</body>
<script type="text/javascript">
    var queryString = decodeURIComponent(window.location.search);

    if (queryString != "") {
        queryString = queryString.substring(1);
        var queries = queryString.split("&");
        var personID = queries[0];
    }
    var error = 0;

    $.ajax({
        type: "GET",
        url: "http://localhost:60404/RegistrationService.svc/FinalRegistration",
        data: { personID: personID },
        error: function (jqXHR, textStatus, errorMessage) {
            debugger;
            console.log(jqXHR + '     ' + textStatus + '    ' + errorMessage);

            alert("درخواست شما موفقیت آمیز نبود");
            error += 1;
            return;

        }, success: function (data) {
            debugger;
            console.log(data);
            var messages = [];
            data.FinalRegistrationResult.forEach(function (e) {
                messages.push(e.ErrorMessage);
            });
            messages.forEach(function (e, i, a) {
                if (e != null) {
                    $('#waitIcon').empty();
                    $('#result').text("ثبت نام با خطاهای ذیل مواجه شد.لطفا ‍‍‍‍دوباره تلاش نمایید. ").attr('class', 'text-danger');
                    $('#result').append($('<p/>').text(messages.join()));
                    error += 1;
                }
            });
            if (error == 0) {
                $('#waitIcon').empty();
                $('#waitIcon').append($('<i/>').attr('class', 'fa fa-check'));
                $('#result').text("ثبت نام شما با موفقیت انجام شد").attr('class', 'text-success');
            }


        }

    });


</script>



</html>
